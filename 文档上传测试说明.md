# MD文档上传和自动分析功能测试说明

## 🎯 功能概述

现在系统已经支持上传MD文档并自动进行AI分析，生成技能树、职业发展路径等可视化数据。

## 📋 支持的文件类型

- **PDF**: 合同、简历等正式文档
- **DOC/DOCX**: Word文档
- **TXT**: 纯文本文件
- **MD**: Markdown文档（新增支持）

## 🔧 技术实现

### 前端修改
1. **文件类型检查**: 扩展了支持的文件类型，包括MD文件
2. **上传界面**: 支持拖拽上传MD文档
3. **自动分析**: 上传MD文档后自动触发AI分析

### 后端修改
1. **文件类型验证**: 添加了`.md`扩展名支持
2. **内容提取**: MD文件内容直接读取为文本
3. **自动分析**: 上传MD文档后自动调用AI分析API
4. **可视化数据**: 生成技能树、时间线、思维导图等数据

## 📁 示例文档

已创建以下示例文档供测试：

1. **字节跳动Offer分析报告.md** - Offer分析示例
2. **劳动合同示例.md** - 劳动合同示例
3. **Offer示例.md** - Offer Letter示例
4. **简历示例.md** - 个人简历示例
5. **在职证明示例.md** - 在职证明示例
6. **职业规划示例.md** - 职业发展规划示例

## 🚀 测试步骤

### 1. 上传MD文档
1. 打开系统页面
2. 选择"合同审查"或"职业规划"标签
3. 点击上传按钮，选择MD文件
4. 系统会自动上传并开始分析

### 2. 查看分析结果
1. 上传完成后，系统会显示"自动分析中"
2. 等待几秒钟，分析完成后会显示结果
3. 可以查看提取的结构化信息
4. 可以生成可视化图表（技能树、时间线等）

### 3. 生成可视化数据
- **技能树**: 基于简历和项目经验生成
- **时间线**: 工作经历时间线
- **思维导图**: 个人信息结构图
- **流程图**: 合同签署流程或Offer决策流程

## 🔍 API接口

### 上传文档
```
POST /api/users/{userId}/documents
Content-Type: multipart/form-data

参数:
- file: MD文件
- documentType: resume/contract/offer/employment/other
```

### 获取分析结果
```
GET /api/users/{userId}/documents/{documentId}/extracted-info

返回:
{
  "document": {...},
  "extractedInfo": {...},
  "visualizationData": {...}
}
```

### 生成可视化数据
```
GET /api/users/{userId}/documents/{documentId}/visualization

返回:
{
  "skillTree": {...},
  "timeline": [...],
  "mindMap": {...},
  "flowChart": [...]
}
```

## 📊 分析能力

### 简历分析
- 提取个人信息（姓名、联系方式等）
- 分析工作经历和技能
- 生成技能树和时间线
- 创建职业发展路径

### 合同分析
- 提取关键条款（薪资、福利、竞业限制等）
- 识别风险点
- 生成合同流程图
- 提供法律建议

### Offer分析
- 分析薪资结构和福利
- 对比市场水平
- 生成决策流程图
- 提供谈判建议

## 🎨 可视化功能

### 技能树
- 技术技能分类
- 软技能展示
- 语言能力
- 证书认证

### 时间线
- 工作经历时间轴
- 项目经验展示
- 教育背景
- 职业发展里程碑

### 思维导图
- 个人信息结构
- 技能体系
- 项目经验
- 职业目标

### 流程图
- 合同签署流程
- Offer决策流程
- 职业发展路径
- 技能提升计划

## ⚠️ 注意事项

1. **文件大小限制**: 最大10MB
2. **分析时间**: MD文档分析通常需要3-5秒
3. **内容要求**: 文档内容需要结构化，便于AI提取信息
4. **网络要求**: 需要稳定的网络连接进行AI分析

## 🔧 故障排除

### 上传失败
- 检查文件大小是否超过10MB
- 确认文件格式是否为支持的格式
- 检查网络连接

### 分析失败
- 检查文档内容是否为空
- 确认AI服务是否正常
- 查看服务器日志

### 可视化失败
- 检查提取的信息是否完整
- 确认数据格式是否正确
- 重新生成可视化数据

## 📈 未来计划

1. **更多文件格式**: 支持更多文档格式
2. **批量分析**: 支持批量上传和分析
3. **模板系统**: 提供文档模板
4. **导出功能**: 支持分析结果导出
5. **协作功能**: 支持团队协作分析

---

**测试建议**: 
1. 先使用提供的示例文档进行测试
2. 观察分析结果的准确性和完整性
3. 测试可视化功能的展示效果
4. 验证不同文档类型的分析能力
